version: '3'
services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        - PYTHON_VERSION=$PYTHON_VERSION
        - PYTHON_TAG=$PYTHON_TAG
    image: "${IMAGE_NAME}"
    container_name: $PROJECT_NAME
    environment:
      - PYTHONDONTWRITEBYTECODE=1
      - ENVIRONMENT=$ENVIRONMENT
      - TESTING=$TESTING
    volumes:
      - ./app:/app
    ports:
      - "8000:8000"
    entrypoint: ["uvicorn", "main:app", "--host", "0.0.0.0", "--reload"]
